# Send email in PHP

use [symfony/mailer](https://symfony.com/doc/current/mailer.html) to send email.

and use [MailHog](https://github.com/mailhog/MailHog) as local mail server receiving emails

Run automated scripts using cron

```cronexp
which crontab
crontab -e
# execute /path/to/email.php every 2 minutes
*/2 * * * * cd ~/git/w3schools-php/learn-php-the-right-way && php scripts/email.php
```

## crontab format

`f1 f2 f3 f4 f5 program`

- 其中 f1 是表示分钟，f2 表示小时，f3 表示一个月份中的第几日，f4 表示月份，f5 表示一个星期中的第几天。program 表示要执行的程序
- 当 f1 为 * 时表示每分钟都要执行 program，f2 为 * 时表示每小时都要执行程序，其馀类推
- 当 f1 为 a-b 时表示从第 a 分钟到第 b 分钟这段时间内要执行，f2 为 a-b 时表示从第 a 到第 b 小时都要执行，其馀类推
- 当 f1 为 */n 时表示每 n 分钟个时间间隔执行一次，f2 为 */n 表示每 n 小时个时间间隔执行一次，其馀类推
- 当 f1 为 a, b, c,... 时表示第 a, b, c,... 分钟要执行，f2 为 a, b, c,... 时表示第 a, b, c...个小时要执行，其馀类推

| 时间设置           | 含义                         |
|----------------|----------------------------|
| `* * * * *`    | 每分钟执行一次                    |
| `0 * * * *`    | 每小时的第 0 分钟执行一次             |
| `0 0 * * *`    | 每天的午夜（0 点）执行一次             |
| `0 0 * * 0`    | 每周日的午夜（0 点）执行一次            |
| `0 0 1 * *`    | 每个月的第一天午夜（0 点）执行一次         |
| `0 0 L * *`    | 每个月的最后一天午夜（0 点）执行一次        |
| `0 0 1 1 *`    | 每年的第一天午夜（0 点）执行一次          |
| `0 0 * * 3`    | 每周三的午夜（0 点）执行一次            |
| `0 0 1,15 * *` | 每个月的第 1 和第 15 天午夜（0 点）执行一次 |
| `0 0 * * FRI`  | 每周五的午夜（0 点）执行一次            |
| `0 0 * * 5`    | 每周五的午夜（0 点）执行一次            |
| `0 8-17 * * *` | 每天的上午 8 点到下午 5 点每小时执行一次    |
| `0 12 * * MON` | 每周一的中午（12 点）执行一次           |
| `0 0 15 * *`   | 每个月的第 15 天午夜（0 点）执行一次      |
| `0 0 * * 3`    | 每周三的午夜（0 点）执行一次            |
| `0 8-17 * * *` | 每天的上午 8 点到下午 5 点每小时执行一次    |
| `0 0 * * 1-5`  | 每个工作日的午夜（0 点）执行一次          |
| `0 0 1 * FRI`  | 每个月的第一个星期五午夜（0 点）执行一次      |
| `0 0 1,15 * *` | 每个月的第 1 和第 15 天午夜（0 点）执行一次 |
| `0 0 15 1 *`   | 每年的 1 月 15 日午夜（0 点）执行一次    |
| `0 0 * * 7`    | 每周日的午夜（0 点）执行一次            |
| `0 0 * * 5`    | 每周五的午夜（0 点）执行一次            |
